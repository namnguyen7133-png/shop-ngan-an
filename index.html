<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8">
<title>Shop Gia ƒê√¨nh</title>

<style>
body{font-family:Arial;margin:10px}
.k·ªá{border:1px solid #ddd;padding:10px;margin-bottom:10px}
.admin-only{display:none}
.admin .admin-only{display:block}
button{padding:6px 12px}
@media(max-width:600px){
  .k·ªá{font-size:16px}
  button{width:100%}
}
</style>
</head>

<body>

<div style="text-align:center;margin-bottom:10px">
  <button onclick="unlock()">üîí M·ªû QU·∫¢N L√ù</button>
</div>

<h2 id="shopTitle">üõç Shop</h2>
<div id="shelves"></div>

<script>
/* ================== C·∫§U H√åNH G·ªêC ================== */
const ADMIN_PASSWORD = "1234";
const TOTAL_SHELVES = 32;

/* ===== KHAI B√ÅO 3 SHOP (TH√äM SHOP = TH√äM 1 D√íNG) ===== */
const SHOPS = {
  "ngan-an":  { name: "Ng√¢n An" },
  "minh-chau":{ name: "Minh Ch√¢u" },
  "bich-ngoc":{ name: "B√≠ch Ng·ªçc" }
};

/* ================== X√ÅC ƒê·ªäNH SHOP ================== */
const params = new URLSearchParams(window.location.search);
const childKey = params.get("child") || "ngan-an";
const shop = SHOPS[childKey] || SHOPS["ngan-an"];

document.getElementById("shopTitle").innerText = "üõç Shop " + shop.name;

/* ================== ADMIN ================== */
function unlock(){
  const p = prompt("M·∫≠t kh·∫©u qu·∫£n l√Ω:");
  if(p === ADMIN_PASSWORD){
    document.body.classList.add("admin");
    alert("‚úÖ ƒê√£ m·ªü qu·∫£n l√Ω cho shop " + shop.name);
  } else {
    alert("‚ùå Sai m·∫≠t kh·∫©u");
  }
}

/* ================== S·∫¢N PH·∫®M M·∫™U ================== */
const PRODUCTS = [
  {name:"√Åo b√© g√°i", price:"99.000ƒë"},
  {name:"V√°y b√© g√°i", price:"149.000ƒë"},
  {name:"Gi√†y b√© g√°i", price:"129.000ƒë"}
];

/* ================== L∆ØU / ƒê·ªåC LINK ================== */
function keyName(i){
  return "shop_"+childKey+"_ke_"+i;
}

function saveLink(i, link){
  if(link && link.startsWith("http")){
    localStorage.setItem(keyName(i), link);
    alert("‚úÖ ƒê√£ l∆∞u link k·ªá " + i + " cho " + shop.name);
  }
}

function getLink(i){
  return localStorage.getItem(keyName(i)) || "#";
}

/* ================== RENDER K·ªÜ ================== */
const box = document.getElementById("shelves");

for(let i=1;i<=TOTAL_SHELVES;i++){
  const p = PRODUCTS[(i-1)%PRODUCTS.length];
  const link = getLink(i);

  box.innerHTML += `
    <div class="k·ªá">
      <b>K·ªá ${i}</b><br>
      ${p.name} ‚Äì ${p.price}<br>
      <a href="${link}" target="_blank">üëâ Mua</a><br>
      <input class="admin-only"
        placeholder="D√°n link Shopee cho k·ªá ${i}"
        value="${link === "#" ? "" : link}"
        onblur="saveLink(${i}, this.value)">
    </div>
  `;
}
</script>

</body>
</html>
