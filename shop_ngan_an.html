<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Shop NgÃ¢n An</title>
<style>
body{font-family:Arial;margin:10px}
.ká»‡{border:1px solid #ddd;padding:10px;margin-bottom:10px}
.admin-only{display:none}
.admin .admin-only{display:block}
@media(max-width:600px){
  .ká»‡{font-size:16px}
  button{width:100%}
}
</style>
</head>

<body>

<div id="adminBox" style="text-align:center;margin-bottom:10px">
  <button onclick="unlock()">ğŸ”’ Má» QUáº¢N LÃ</button>
</div>

<h2>ğŸ› Shop NgÃ¢n An</h2>

<div id="shelves"></div>

<script>
const CHILD = { name:"NgÃ¢n An", file:"database.csv" };
const ADMIN_PASSWORD="1234";
const BLOCK_DAYS=7;
const WEB_APP_URL="CHUA_CAN";

function unlock(){
  const p=prompt("Máº­t kháº©u quáº£n lÃ½:");
  if(p===ADMIN_PASSWORD){
    document.body.classList.add("admin");
    alert("ÄÃ£ má»Ÿ quáº£n lÃ½");
  }
}

fetch(CHILD.file)
.then(r=>r.text())
.then(t=>{
  const rows=t.trim().split("\n").slice(1);
  render(rows.map(r=>{
    const [name,price,link]=r.split(",");
    return {name,price,link};
  }));
});

function render(products){
  const box=document.getElementById("shelves");
  for(let i=1;i<=32;i++){
    const p=products[i%products.length];
    box.innerHTML+=`
    <div class="ká»‡">
      <b>Ká»‡ ${i}</b><br>
      ${p.name} â€“ ${p.price}<br>
      <a href="${p.link}" target="_blank">ğŸ‘‰ Mua</a>
      <br>
      <input class="admin-only" placeholder="Link tay">
    </div>`;
  }
}
</script>

</body>
</html>
